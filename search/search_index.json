{"config":{"lang":["en","ja"],"separator":"[\\s\\-\\.]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u60a8\u597d","text":"<p>\u8fd9\u91cc\u662f\u96f7\u7fd4\u7684\u4e2a\u4eba\u7f51\u7ad9 https://lei00764.github.io/note/</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/","title":"jetson nano \u96f6\u57fa\u7840\u5165\u95e8","text":""},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_1","title":"\u524d\u8a00","text":"<p>jetson nano \u677f\u5b50</p> <p>SD \u5361\u3001\u8bfb\u53d6\u5668</p> <p>\u65e0\u7ebf\u7f51\u5361</p> <p>\u7535\u6e90</p> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>python3</li> <li>pip3</li> </ul>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_2","title":"\u51c6\u5907","text":""},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_3","title":"\u70e7\u5f55\u7cfb\u7edf","text":"<p><code>jetson-nano-jp461-sd-card-image.zip</code>\uff0c\u89e3\u538b\uff0c\u4f7f\u7528 <code>balenaEtcher</code> \u8f6f\u4ef6\u5c06\u89e3\u538b\u540e\u7684\u6587\u4ef6\u70e7\u5f55\u5230 SD \u5361\u4e2d</p> <p>\u8c03\u6574\u677f\u5b50\u4e0a\u7684\u8df3\u7ebf\u5e3d\uff08\u8bf7\u6ce8\u610f\uff0c\u677f\u5b50\u4e0a\u539f\u672c\u7684\u8df3\u7ebf\u5e3d\u53ea\u63d2\u4e86\u4e00\u4e2a\u9488\u811a\uff0c\u5982\u679c\u4f60\u7528 5V4A \u7684DC\u7535\u6e90\uff0c\u9700\u8981\u628a\u8df3\u7ebf\u5e3d\u8f7b\u8f7b\u62d4\u8d77\uff0c\u628a\u4e24\u4e2a\u9488\u811a\u90fd\u63d2\u4e0a\uff0c\u624d\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528 DC \u7535\u6e90\u54df\uff01</p> <p>\u5c06 SD \u5361\u63d2\u5165\u5230 jetson nano \u677f\u5b50\u4e0a\uff0c\u8fde\u63a5\u597d\u9f20\u6807\u3001\u952e\u76d8\u3001\u7f51\u7ebf\u548c\u663e\u793a\u5668</p> <p>\uff08\u677f\u5b50\u4e0a\u6709\u4e00\u4e2a\u7eff\u8272\u6307\u793a\u706f\uff09</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_4","title":"\u5e38\u7528\u547d\u4ee4","text":"<p>\u67e5\u770b\u7528\u6237\u540d\uff1a</p> <pre><code>whoami\n</code></pre> <p>\u67e5\u770bip\u5730\u5740\uff1a</p> <pre><code>ifconfig\n</code></pre> <p>\u5207\u6362\u9ad8\u4f4e\u529f\u7387 \u6709\u4e24\u79cd\u4f9b\u7535\u65b9\u5f0f\uff0c10W\u548c5W</p> <pre><code>sudo nvpmodel -q  # \u67e5\u770b\u5f53\u524d\u662f\u90a3\u4e2a\u6a21\u5f0f\nsudo nvpmodel -m 1 # \u5c06\u5f53\u524d\u6a21\u5f0f\u5207\u6362\u52305W\u6a21\u5f0f,\u5c06\u4f1a\u81ea\u52a8\u5173\u6389\u4e24\u4e2acpu,\u53ea\u4f7f\u7528cpu1,2\n</code></pre> <p>\u4e24\u79cd\u6a21\u5f0f\uff0c0 \u662f\u9ad8\u529f\u738710w,1\u662f\u4f4e\u529f\u73875w,\u9ed8\u8ba4\u72b6\u6001\u662f\u9ad8\u529f\u7387\u3002</p> <p>sudo nvpmodel -m 0</p> <pre><code>sudo jetson_clocks  # \u56fa\u5b9a CPU \u9891\u7387\n</code></pre> <p>nano\u6709\u4e24\u79cd\u4f9b\u7535\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f5V 2.5A(10W)\u7684microUSB\u4f9b\u7535\uff1b\u4f46\u5982\u679c\u4f60\u8981\u6709\u5f88\u591a\u5916\u8bbe\u5728\uff08\u952e\u76d8\u3001\u9f20\u6807\u3001wifi\u3001\u663e\u793a\u5668\uff09\u5728\u4f7f\u7528\uff0c\u6700\u597d\u75285V 4A(20W)\u7684\u4f9b\u7535\u65b9\u5f0f\uff0c\u6765\u4fdd\u8bc1nano\u7684\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_5","title":"\u79fb\u9664\u65e0\u7528\u8f6f\u4ef6","text":"<p>\u79fb\u9664LibreOffice\u4f1a\u4e3a\u7cfb\u7edf\u7701\u5f88\u591a\u7a7a\u95f4\uff0c\u8fd9\u4e2a\u8f6f\u4ef6\u5bf9\u505a\u6df1\u5ea6\u5b66\u4e60\u548c\u8ba1\u7b97\u673a\u89c6\u89c9\u7b97\u6cd5\u4e5f\u6ca1\u6709\u592a\u591a\u7528</p> <pre><code>sudo apt-get purge libreoffice*\nsudo apt-get clean\n</code></pre> <p>\u66f4\u6362\u56fd\u5185\u5b89\u88c5\u6e90\uff1a</p> <p>\u5907\u4efd\u539f\u5148source.list</p> <pre><code>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\n</code></pre> <p>\u4fee\u6539source.list</p> <pre><code>sudo vim  /etc/apt/sources.list\n</code></pre> <p>\u5c06\u4ee5\u4e0b\u5185\u5bb9\u66ff\u6362\u539f\u5185\u5bb9</p> <pre><code>deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universe\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universe\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universe\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universe\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universe\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universe\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe\n</code></pre> <p>\u66f4\u65b0\u8f6f\u4ef6\u5217\u8868</p> <pre><code>sudo apt-get update </code></pre> <p>\u914d\u7f6ecuda\u7684\u73af\u5883\u53d8\u91cf</p> <pre><code>vi ~/.bashrc\n</code></pre> <pre><code>export PATH=/usr/local/cuda/bin${PATH:+:${PATH}}\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}\nexport CUDA_ROOT=/usr/local/cuda\n</code></pre> <pre><code>source ~/.bashrc\n</code></pre> <p>\u67e5\u770bcuda\u7248\u672c\uff1a</p> <pre><code>nvcc -V\n</code></pre>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#pip3","title":"\u914d\u7f6e pip3","text":"<p>\u4e86\u89e3 jetson \u5e73\u53f0\u81ea\u5e26\u7684 python \u7248\u672c</p> <p>\u4ee5 jetson nano\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528</p> <pre><code>ls /usr/bin/python*\n</code></pre> <p>\u5b89\u88c5 pip</p> <pre><code>sudo apt update\nsudo apt install python3-pip\n</code></pre> <p>\u67e5\u770b pip \u7248\u672c\u53ca\u5b89\u88c5\u8def\u5f84</p> <pre><code>pip3 --version\n# pip 9.0.1 from /usr/Lub/python3/dist-packages (python 3.6)\n</code></pre> <p>\u7248\u672c\u592a\u4f4e\uff0c\u66f4\u65b0\u7248\u672c</p> <pre><code>python3 -m pip install --upgrade pip setuptools wheel\n</code></pre>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_6","title":"\u5b89\u88c5\u5de5\u5177","text":"<p>\u5b89\u88c5 jtop\uff0c\u67e5\u770b CPU \u548c GPU \u8d44\u6e90</p> <pre><code>sudo pip3 install -U jetson-stats\n</code></pre> <p>\u4f7f\u7528 jtop</p> <pre><code>sudo jtop\n</code></pre> <p>\u5982\u679c\u4e0d\u80fd\u4f7f\u7528\uff0c\u8bf7\u91cd\u542f\uff0c\u6216\u8005\u81ea\u884c\u767e\u5ea6</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_7","title":"\u6a21\u578b\u90e8\u7f72","text":"<p>\u6d41\u7a0b\uff1a <code>xx.pt</code> -&gt; <code>xx.onnx</code> -&gt; <code>xx.engine</code></p> <p>\u5176\u4e2d <code>xx.pt</code> -&gt; <code>xx.onnx</code> \u5728\u7535\u8111\u4e0a\u5b8c\u6210\uff0c<code>xx.onnx</code> -&gt; <code>xx.engine</code> \u5728\u677f\u5b50\u4e0a\u5b9e\u73b0</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#xxxonnx","title":"\u5bfc\u51fa xxx.onnx \u6587\u4ef6 (\u672c\u5730\u7535\u8111)","text":"<p>\u4e0b\u8f7d yolov8 \u4ee3\u7801</p> <pre><code>git clone https://github.com/ultralytics/ultralytics.git\n</code></pre> <p>\u4e0b\u8f7d\u5c06 <code>.onnx</code> \u8f6c\u6362\u4e3a <code>xx.engine</code> \u4ee3\u7801</p> <pre><code>git clone https://github.com/shouxieai/infer.git\n</code></pre> <p>\u5728 <code>ultralytics</code> \u4e2d\u521b\u5efa\u4e00\u4e2a <code>weights</code> \u6587\u4ef6\u5939\uff0c\u5c06\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u6587\u4ef6 <code>best.pt</code> \u653e\u8fdb\u53bb</p> <p>\u5728 <code>ultralytics</code> \u4e2d\u521b\u5efa <code>detect.py</code> \u6587\u4ef6\uff0c\u68c0\u6d4b\u6a21\u578b\u7684\u6b63\u786e\u6027</p> <pre><code># @time   : 2023/7/12 10:23\n# @author : Xiang Lei\n# opencv\u81ea\u5df1\u6709\u4e00\u4e2a\u7f13\u5b58\uff0c\u6bcf\u6b21\u4f1a\u987a\u5e8f\u4ece\u81ea\u5df1\u7684\u7f13\u5b58\u4e2d\u8bfb\u53d6\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u8bfb\u53d6\u6700\u65b0\u5e27\n# \u5355\u72ec\u7528\u4e00\u4e2a\u7ebf\u7a0b\u5b9e\u65f6\u6355\u83b7\u89c6\u9891\u5e27\uff0c\u4e3b\u7ebf\u7a0b\u5728\u9700\u8981\u65f6\u4ece\u5b50\u7ebf\u7a0b\u62f7\u8d1d\u6700\u8fd1\u7684\u5e27\u4f7f\u7528\u5373\u53ef\n\nimport time\nimport cv2\nimport threading\nimport numpy as np\nfrom copy import deepcopy\n\nfrom ultralytics import YOLO\n\nthread_lock = threading.Lock()  # \u7ebf\u7a0b\u9501\nthread_exit = False  # \u7ebf\u7a0b\u9000\u51fa\u6807\u5fd7\n\n\nclass MyThread(threading.Thread):\n    def __init__(self, camera_id, img_height, img_width):\n        super().__init__()\n        self.camera_id = camera_id\n        self.img_height = img_height\n        self.img_width = img_width\n        self.frame = np.zeros((img_height, img_width, 3), dtype=np.uint8)\n\n    def get_frame(self):\n        return deepcopy(self.frame)\n\n    def run(self):\n        global thread_exit\n        cap = cv2.VideoCapture(self.camera_id)\n        while not thread_exit:\n            ret, frame = cap.read()\n            if ret:\n                frame = cv2.resize(frame, (self.img_width, self.img_height))\n                thread_lock.acquire()\n                self.frame = frame\n                thread_lock.release()\n            else:\n                thread_exit = True\n        cap.release()\n\n\ndef main():\n    global thread_exit\n    model = YOLO('weights/best.pt')\n    video_file = \"try.mp4\"\n\n    # model = YOLO(\"yolov8n.pt\")\n    # video_file = 0\n    camera_id = video_file\n    img_height = 640\n    img_width = 640\n\n    thread = MyThread(camera_id, img_height, img_width)  # \u521b\u5efa\u7ebf\u7a0b\n    thread.start()  # \u542f\u52a8\u7ebf\u7a0b\n\n    while not thread_exit:\n        thread_lock.acquire()\n        frame = thread.get_frame()\n        thread_lock.release()\n\n        results = model(frame)\n        annotated_frame = results[0].plot()\n\n        cv2.imshow(\"frame\", annotated_frame)\n        if cv2.waitKey(1) &amp; 0xFF == ord(\"q\"):\n            thread_exit = True\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u5728 <code>ultralytics</code> \u4e2d\u521b\u5efa <code>export.py</code> \u6587\u4ef6\uff0c\u5c06 <code>best.py</code> \u8f6c\u6362\u6210 <code>best.onnx</code></p> <pre><code># @time   : 2023/7/13 20:38\n# @author : Xiang Lei\n\nfrom ultralytics import YOLO\n\nmodel = YOLO(\"weights/best.pt\")\n\nsuccess = model.export(format=\"onnx\", batch=1)\n</code></pre> <p>\u5c06 <code>best.onnx</code> \u653e\u5230 <code>infer/workspace</code> \u4e2d</p> <p>\u6a21\u578b\u9700\u8981\u5b8c\u6210\u4fee\u6539\u624d\u80fd\u6b63\u786e\u88abinfer\u6846\u67b6\u4f7f\u7528\uff0c\u6b63\u5e38\u6a21\u578b\u5bfc\u51fa\u7684\u8f93\u51fa\u4e3a[1,6,8400]\uff0c\u5176\u4e2d1\u4ee3\u8868batch\uff0c6\u5206\u522b\u4ee3\u8868cx,cy,w,h,\u4ee5\u53cahave_mask\u3001no_mask\u4e24\u4e2a\u7c7b\u522b\u5206\u6570\uff0c8400\u4ee3\u8868\u6846\u7684\u4e2a\u6570\u3002\u9996\u5148infer\u6846\u67b6\u7684\u8f93\u51fa\u53ea\u652f\u6301[1,8400,6]\u8fd9\u79cd\u5f62\u5f0f\u7684\u8f93\u51fa\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u539f\u59cbonnx\u7684\u8f93\u51fa\u4e4b\u524d\u6dfb\u52a0\u4e00\u4e2aTranspose\u8282\u70b9\uff0cinfer\u4ed3\u5e93workspace/v8trans.py\u5c31\u662f\u5e2e\u6211\u4eec\u505a\u8fd9\u4e48\u4e00\u4ef6\u4e8b\u60c5\uff0cv8trans.py\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>import onnx\nimport onnx.helper as helper\nimport sys\nimport os\n\ndef main():\n\n    if len(sys.argv) &lt; 2:\n        print(\"Usage:\\n python v8trans.py yolov8n.onnx\")\n        return 1\n\n    file = sys.argv[1]\n    if not os.path.exists(file):\n        print(f\"Not exist path: {file}\")\n        return 1\n\n    prefix, suffix = os.path.splitext(file)\n    dst = prefix + \".transd\" + suffix\n\n    model = onnx.load(file)\n    node  = model.graph.node[-1]\n\n    old_output = node.output[0]\n    node.output[0] = \"pre_transpose\"\n\n    for specout in model.graph.output:\n        if specout.name == old_output:\n            shape0 = specout.type.tensor_type.shape.dim[0]\n            shape1 = specout.type.tensor_type.shape.dim[1]\n            shape2 = specout.type.tensor_type.shape.dim[2]\n            new_out = helper.make_tensor_value_info(\n                specout.name,\n                specout.type.tensor_type.elem_type,\n                [0, 0, 0]\n            )\n            new_out.type.tensor_type.shape.dim[0].CopyFrom(shape0)\n            new_out.type.tensor_type.shape.dim[2].CopyFrom(shape1)\n            new_out.type.tensor_type.shape.dim[1].CopyFrom(shape2)\n            specout.CopyFrom(new_out)\n\n    model.graph.node.append(\n        helper.make_node(\"Transpose\", [\"pre_transpose\"], [old_output], perm=[0, 2, 1])\n    )\n\n    print(f\"Model save to {dst}\")\n    onnx.save(model, dst)\n    return 0\n\nif __name__ == \"__main__\":\n    sys.exit(main())\n</code></pre> <p>\u5728\u547d\u4ee4\u884c\u7ec8\u7aef\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\u5373\u53ef\u6dfb\u52a0Transpose\u8282\u70b9\uff0c\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u751f\u6210<code>best.transd.onnx</code>\u6a21\u578b\uff0c\u8be5\u6a21\u578b\u6dfb\u52a0\u4e86Transpose\u8282\u70b9\u3002</p> <pre><code>python3 v8trans.py best.onnx\n</code></pre> <p>\uff08\u5c06ONNX\u6a21\u578b <code>best.transd.onnx</code> \u653e\u5165\u5230infer/workspace\u6587\u4ef6\u5939\u4e0b\uff09</p> <p>\u5c06 <code>infer</code> \u6587\u4ef6\u5939\u7684\u6240\u6709\u5185\u5bb9\u653e\u5230 <code>jetson nano</code> \u677f\u5b50\u4e0a</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#trtexec-jetson-nano","title":"\u914d\u7f6e trtexec \u73af\u5883\u53d8\u91cf (jetson nano)","text":"<p>1.\u6253\u5f00bashrc\u6587\u4ef6</p> <pre><code>vim ~/.bashrc\n2.\u6309i\u8fdb\u5165\u8f93\u5165\u6a21\u5f0f\uff0c\u5728\u6700\u540e\u4e00\u884c\u6dfb\u52a0\u5982\u4e0b\u8bed\u53e5\n</code></pre> <pre><code>export PATH=/usr/src/tensorrt/bin:$PATH\n</code></pre> <p>3.\u6309\u4e0besc\uff0c\u8f93\u5165:wq!\u4fdd\u5b58\u9000\u51fa\u5373\u53ef\uff0c\u6700\u540e\u5237\u65b0\u4e0b\u73af\u5883\u53d8\u91cf</p> <pre><code>source ~/.bashrc\n</code></pre>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#xxxengine-jetson-nano","title":"\u5bfc\u51fa xxx.engine \u6587\u4ef6 (jetson nano)","text":"<p>\u5728 <code>infer</code> \u76ee\u5f55\u6267\u884c</p> <pre><code>trtexec --onnx=workspace/best.transd.onnx --saveEngine=workspace/best.transd.engine\n</code></pre> <p>\u5f00\u59cb\u7f16\u8bd1\uff0c\u9700\u8981\u4e00\u6bb5\u65f6\u95f4......</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#jetson-nano_1","title":"\u4fee\u6539\u63a8\u7406\u4ee3\u7801 (jetson nano)","text":"<p>\u4e3a\u4e86\u4f7f\u7528\u4e0a\u9762\u5f97\u5230\u7684 <code>best.transd.engine</code> \uff0c\u9700\u8981\u5bf9\u90e8\u5206\u6e90\u7801\u8fdb\u884c\u4fee\u6539</p> <p>yolo\u6a21\u578b\u7684\u63a8\u7406\u4ee3\u7801\u4e3b\u8981\u5728src/main.cpp\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u63a8\u7406\u7684\u56fe\u7247\u653e\u5728workspace/inference\u6587\u4ef6\u5939\u4e2d\uff0c\u6e90\u7801\u4fee\u6539\u8f83\u7b80\u5355\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <p>1.main.cpp 134\uff0c135\u884c\u6ce8\u91ca\uff0c\u53ea\u8fdb\u884c\u5355\u5f20\u56fe\u7247\u7684\u63a8\u7406</p> <p>2.main.cpp 104\u884c \u4fee\u6539\u52a0\u8f7d\u7684\u6a21\u578b\u4e3abest_transd.sim.engine\u4e14\u7c7b\u578b\u4e3aV8</p> <p>3.main.cpp 10\u884c \u65b0\u589emylabels\u6570\u7ec4\uff0c\u6dfb\u52a0\u81ea\u8bad\u7ec3\u6a21\u578b\u7684\u7c7b\u522b\u540d\u79f0</p> <p>4.mian.cpp 115\u884c cocolabels\u4fee\u6539\u4e3amylabels</p> <p>\u5177\u4f53\u4fee\u6539\u5982\u4e0b</p> <pre><code>int main() {\n// perf();                    //\u4fee\u65391 134 135\u884c\u6ce8\u91ca\n// batch_inference();         \nsingle_inference();\nreturn 0;\n}\n\nauto yolo = yolo::load(\"best_transd.engine\", yolo::Type::V8);   //  \u4fee\u65392\n\nstatic const char *mylabels[] = {\"box\", \"cola\"};    // \u4fee\u65393 \u65b0\u589emylabels\u6570\u7ec4\n\nauto name = mylabels[obj.class_label]       // \u4fee\u65394 cocolabels\u4fee\u6539\u4e3amylabels\n</code></pre>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_8","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<p>\u7f16\u8bd1\u7528\u5230\u7684Makefile\u6587\u4ef6\u9700\u8981\u4fee\u6539\uff0c\u4fee\u6539\u540e\u7684Makefile\u6587\u4ef6\u5982\u4e0b</p> <pre><code>cc        := g++\nnvcc      = /usr/local/cuda-10.2/bin/nvcc\n\ncpp_srcs  := $(shell find src -name \"*.cpp\")\ncpp_objs  := $(cpp_srcs:.cpp=.cpp.o)\ncpp_objs  := $(cpp_objs:src/%=objs/%)\ncpp_mk    := $(cpp_objs:.cpp.o=.cpp.mk)\n\ncu_srcs   := $(shell find src -name \"*.cu\")\ncu_objs   := $(cu_srcs:.cu=.cu.o)\ncu_objs   := $(cu_objs:src/%=objs/%)\ncu_mk     := $(cu_objs:.cu.o=.cu.mk)\n\ninclude_paths := src        \\\n/usr/include/opencv4 \\\n/usr/include/aarch64-linux-gnu \\\n/usr/local/cuda-10.2/include\n\nlibrary_paths := /usr/lib/aarch64-linux-gnu \\\n/usr/local/cuda-10.2/lib64\n\nlink_librarys := opencv_core opencv_highgui opencv_imgproc opencv_videoio opencv_imgcodecs \\\nnvinfer nvinfer_plugin nvonnxparser \\\ncuda cublas cudart cudnn \\\nstdc++ dl\n\nempty         :=\nexport_path   := $(subst $(empty) $(empty),:,$(library_paths))\n\nrun_paths     := $(foreach item,$(library_paths),-Wl,-rpath=$(item))\ninclude_paths := $(foreach item,$(include_paths),-I$(item))\nlibrary_paths := $(foreach item,$(library_paths),-L$(item))\nlink_librarys := $(foreach item,$(link_librarys),-l$(item))\n\ncpp_compile_flags := -std=c++11 -fPIC -w -g -pthread -fopenmp -O0\ncu_compile_flags  := -std=c++11 -g -w -O0 -Xcompiler \"$(cpp_compile_flags)\"\nlink_flags        := -pthread -fopenmp -Wl,-rpath='$$ORIGIN'\n\ncpp_compile_flags += $(include_paths)\ncu_compile_flags  += $(include_paths)\nlink_flags        += $(library_paths) $(link_librarys) $(run_paths)\n\nifneq ($(MAKECMDGOALS), clean)\n-include $(cpp_mk) $(cu_mk)\nendif\n\npro    := workspace/pro\nexpath := library_path.txt\n\nlibrary_path.txt : @echo LD_LIBRARY_PATH=$(export_path):\"$$\"LD_LIBRARY_PATH &gt; $@\n\nworkspace/pro : $(cpp_objs) $(cu_objs)\n@echo Link $@\n@mkdir -p $(dir $@)\n@$(cc) $^ -o $@ $(link_flags)\n\nobjs/%.cpp.o : src/%.cpp\n@echo Compile CXX $&lt;\n    @mkdir -p $(dir $@)\n@$(cc) -c $&lt; -o $@ $(cpp_compile_flags)\n\nobjs/%.cu.o : src/%.cu\n@echo Compile CUDA $&lt;\n    @mkdir -p $(dir $@)\n@$(nvcc) -c $&lt; -o $@ $(cu_compile_flags)\n\nobjs/%.cpp.mk : src/%.cpp\n@echo Compile depends CXX $&lt;\n    @mkdir -p $(dir $@)\n@$(cc) -M $&lt; -MF $@ -MT $(@:.cpp.mk=.cpp.o) $(cpp_compile_flags)\n\nobjs/%.cu.mk : src/%.cu\n@echo Compile depends CUDA $&lt;\n    @mkdir -p $(dir $@)\n@$(nvcc) -M $&lt; -MF $@ -MT $(@:.cu.mk=.cu.o) $(cu_compile_flags)\n\nrun   : workspace/pro\n@cd workspace &amp;&amp; ./pro\n\nclean :\n@rm -rf objs workspace/pro\n    @rm -rf library_path.txt\n    @rm -rf workspace/Result.jpg\n\n# \u5bfc\u51fa\u7b26\u53f7\uff0c\u4f7f\u5f97\u8fd0\u884c\u65f6\u80fd\u591f\u94fe\u63a5\u4e0a\nexport LD_LIBRARY_PATH:=$(export_path):$(LD_LIBRARY_PATH)\n</code></pre> <p>\u7f16\u8bd1\u8fd0\u884c</p> <pre><code>make run\n</code></pre> <p>\u51fa\u73b0\u9519\u8bef\uff1a make: Warning: File \"xxx\" has modification time yyy s in the future</p> <p>\u53c2\u8003\uff1a https://blog.csdn.net/u012814856/article/details/99873057</p>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_9","title":"\u6444\u50cf\u5934\u68c0\u6d4b","text":"<p>\u7b80\u5355\u5199\u4e86\u4e00\u4e2a\u6444\u50cf\u5934\u68c0\u6d4b\u7684 demo\uff0c\u4e3b\u8981\u4fee\u6539\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <p>1.main.cpp \u65b0\u589eyolo_video_demo()\u51fd\u6570\uff0c\u5177\u4f53\u5185\u5bb9\u53c2\u8003\u4e0b\u9762</p> <p>2.main.cpp \u65b0\u589e\u8c03\u7528yolo_video_demo()\u51fd\u6570\u4ee3\u7801\uff0c\u5177\u4f53\u5185\u5bb9\u53c2\u8003\u4e0b\u9762</p> <pre><code>static void yolo_video_demo(const string&amp; engine_file){     // \u4fee\u65391 \u65b0\u589e\u51fd\u6570\nauto yolo = yolo::load(engine_file, yolo::Type::V8);\nif (yolo == nullptr)  return;\n\n// auto remote_show = create_zmq_remote_show();\n\ncv::Mat frame;\ncv::VideoCapture cap(0);\nif (!cap.isOpened()){\nprintf(\"Engine is nullptr\");\nreturn;\n}\n\nwhile(true){\ncap.read(frame);\nauto objs = yolo-&gt;forward(cvimg(frame));\n\nfor(auto &amp;obj : objs) {\nuint8_t b, g, r;\ntie(b, g, r) = yolo::random_color(obj.class_label);\ncv::rectangle(frame, cv::Point(obj.left, obj.top), cv::Point(obj.right, obj.bottom),\ncv::Scalar(b, g, r), 5);\n\nauto name = mylabels[obj.class_label];\nauto caption = cv::format(\"%s %.2f\", name, obj.confidence);\nint width = cv::getTextSize(caption, 0, 1, 2, nullptr).width + 10;\ncv::rectangle(frame, cv::Point(obj.left - 3, obj.top - 33),\ncv::Point(obj.left + width, obj.top), cv::Scalar(b, g, r), -1);\ncv::putText(frame, caption, cv::Point(obj.left, obj.top - 5), 0, 1, cv::Scalar::all(0), 2, 16);\n}\nimshow(\"frame\", frame);\n// remote_show-&gt;post(frame);\nint key = cv::waitKey(1);\nif (key == 27)\nbreak;\n}\n\ncap.release();\ncv::destroyAllWindows();\nreturn;\n}\n\nint main() {    // \u4fee\u65392 \u8c03\u7528\u8be5\u51fd\u6570\n// perf();\n// batch_inference();\n// single_inference();\nyolo_video_demo(\"best.transd.sim.engine\");\nreturn 0;\n}\n</code></pre>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_10","title":"\u4e32\u53e3\u901a\u4fe1","text":"<p>\u5148\u5728nano\u4e0a\u67e5\u770b\u542f\u7528\u7684\u4e32\u53e3</p> <p><code>ls -l /dev/tty*</code> </p> <pre><code>sudo chmod 777 /dev/ttyUSB0\n</code></pre>"},{"location":"Dev/jetson%20nano%20%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/#_11","title":"\u6237\u5916\u4f7f\u7528","text":"<p>\u4f7f\u7528 \u5fae\u96ea UPS Power Module (B) \u7535\u6e90</p> <p>\u5b89\u88c5\u6559\u7a0b\uff1ahttps://www.bilibili.com/video/BV1Be4y1Q7id</p> <p>\u53c2\u8003\uff1ahttps://blog.csdn.net/qq_40672115/article/details/129640372</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/","title":"Vue3 + ASP.NET Web API \u524d\u540e\u7aef\u90e8\u7f72","text":""},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_1","title":"\u524d\u8a00","text":"<p>\u670d\u52a1\u5668\u7cfb\u7edf\uff1aUbuntu 18.04</p> <p>\u524d\u7aef\uff1aVue3 + Vite</p> <p>\u540e\u7aef\uff1aASP.NET Web API</p> <p>\u6570\u636e\u5e93\uff1aOracle</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_2","title":"\u524d\u7aef","text":"<p>\u524d\u7aef\u4e3b\u8981\u662f\u8981\u5b89\u88c5 node.js\uff0c\u7528\u6765\u6267\u884c\u524d\u7aef\u4ee3\u7801\uff0c\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u5148\u4f7f\u7528 <code>npm run build</code> \u6253\u5305\u540e\u4ee5\u540e\u518d\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u5373\u6307\u4e0a\u4f20\u6253\u5305\u540e\u7684 dist \u6587\u4ef6\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u518d\u5b89\u88c5 node.js</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#nodejs","title":"\u5b89\u88c5 Node.js \uff08\u53ef\u9009\uff09","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u5b89\u88c5 Node.js\u3002Node.js \u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript \u8fd0\u884c\u65f6\uff0c\u5b83\u5141\u8bb8\u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c JavaScript \u4ee3\u7801\u3002\u8fd9\u662f Vue3 + Vite \u9879\u76ee\u6240\u9700\u7684\u8fd0\u884c\u73af\u5883</p> <p>\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> <pre><code>npm -v\n# \u8f93\u51fa\u7248\u672c\u4fe1\u606f\u7c7b\u4f3c\uff1a9.5.0\nnode -v\n# \u8f93\u51fa\u7248\u672c\u4fe1\u606f\u7c7b\u4f3c\uff1av18.15.0\n</code></pre> <p>\u5982\u679c\u4e0a\u8ff0\u547d\u4ee4\u672a\u8fd4\u56de\u7248\u672c\u4fe1\u606f\uff0c\u8bf4\u660e\u9700\u8981\u5b89\u88c5 Node.js\u3002\u53ef\u4ee5\u5728 Node.js \u5b98\u65b9\u7f51\u7ad9 \u4e0b\u8f7d\u9002\u5408\u7684\u7248\u672c\u5e76\u5b89\u88c5</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#nginx","title":"\u5b89\u88c5 nginx","text":"<p>Nginx \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684 Web \u670d\u52a1\u5668</p> <p>\u66f4\u65b0\u8f6f\u4ef6\u5305\u5217\u8868\uff1a</p> <pre><code>sudo apt update\n</code></pre> <p>\u5b89\u88c5 Nginx\uff1a</p> <pre><code>sudo apt install nginx\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0cNginx \u670d\u52a1\u4f1a\u81ea\u52a8\u542f\u52a8</p> <p>\u9a8c\u8bc1 Nginx \u662f\u5426\u5df2\u7ecf\u5b89\u88c5\u6210\u529f\uff1a\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e2d\u8f93\u5165\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3002\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u5e94\u8be5\u4f1a\u770b\u5230 Nginx \u7684\u9ed8\u8ba4\u6b22\u8fce\u9875\u9762\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u81ea\u52a8\u542f\u52a8\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u624b\u52a8\u542f\u52a8\uff1a</p> <pre><code>sudo systemctl start nginx\n</code></pre> <p>\u4ee5\u4e0b\u662f\u662f\u4e00\u4e9b\u5176\u4ed6\u7684\u5173\u4e8e nginx \u7684\u547d\u4ee4</p> <p>\u505c\u6b62 Nginx \u670d\u52a1\uff0c\u5b8c\u5168\u505c\u6b62 Nginx \u670d\u52a1\uff0c\u4e2d\u65ad\u6240\u6709\u8fde\u63a5\u5e76\u91ca\u653e\u7aef\u53e3\uff1a</p> <pre><code>sudo systemctl stop nginx\n</code></pre> <p>\u91cd\u542f Nginx \u670d\u52a1\uff0c\u91cd\u65b0\u542f\u52a8 Nginx \u670d\u52a1\uff1a</p> <pre><code>sudo systemctl restart nginx </code></pre> <p>\u67e5\u770b Nginx \u670d\u52a1\u72b6\u6001\uff0c\u663e\u793a Nginx \u670d\u52a1\u7684\u72b6\u6001\u3001\u8fdb\u7a0b ID \u7b49\u4fe1\u606f\uff1a</p> <pre><code>sudo systemctl status nginx\n</code></pre> <p>\u91cd\u65b0\u52a0\u8f7d Nginx \u914d\u7f6e\uff0c\u91cd\u65b0\u52a0\u8f7d Nginx \u914d\u7f6e\uff08\u5e38\u7528\u4e8e\u4fee\u6539\u914d\u7f6e\u540e\u91cd\u65b0\u52a0\u8f7d\uff09\uff1a</p> <pre><code>sudo systemctl reload nginx\n</code></pre> <p><code>restart</code> \u662f\u4e00\u4e2a\u8f83\u4e3a\u5f7b\u5e95\u7684\u64cd\u4f5c\uff0c\u4f1a\u4e2d\u65ad\u73b0\u6709\u8fde\u63a5\u5e76\u91cd\u65b0\u542f\u52a8\u6574\u4e2a Nginx \u670d\u52a1\u5b9e\u4f8b\u3002\u800c <code>reload</code> \u5219\u66f4\u8f7b\u91cf\u7ea7\uff0c\u4ec5\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u65b0\u914d\u7f6e\u751f\u6548\uff0c\u540c\u65f6\u4fdd\u6301\u73b0\u6709\u8fde\u63a5\u4e0d\u53d7\u5f71\u54cd</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_3","title":"\u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u5668","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u4e24\u79cd\u65b9\u5f0f\uff0c\u672c\u8d28\u4e0a\u90fd\u662f\u4e3a\u4e86\u5f97\u5230\u6700\u7ec8\u7684 <code>dist</code> \u6587\u4ef6</p> <p>\u65b9\u5f0f\u4e00\uff1a\u4e0a\u4f20\u5168\u90e8\u524d\u7aef\u4ee3\u7801\u6587\u4ef6\uff08\u8981\u6c42\u5b89\u88c5 <code>Node.js</code>\uff09</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u70b9\u5728\u4e8e\uff0c\u5982\u679c\u9700\u8981\u5bf9\u524d\u7aef\u6587\u4ef6\u8fdb\u884c\u5c0f\u5e45\u66f4\u6539\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u670d\u52a1\u5668\u4e0a\u4fee\u6539\uff0c\u7136\u540e\u91cd\u65b0\u6253\u5305\u90e8\u7f72\uff0c\u800c\u4e0d\u5fc5\u91cd\u65b0\u4e0a\u4f20\u6587\u4ef6</p> <p>\u9996\u5148\uff0c\u4f7f\u7528 <code>scp</code> \u547d\u4ee4\u5c06\u6240\u6709\u524d\u7aef\u4ee3\u7801\u6587\u4ef6\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002\u5047\u8bbe\u524d\u7aef\u4ee3\u7801\u4f4d\u4e8e\u540d\u4e3a <code>front</code> \u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u670d\u52a1\u5668 IP \u5730\u5740\u4e3a <code>124.220.110.93</code>\uff1a</p> <pre><code>scp -r front ubuntu@124.220.110.93:/home/ubuntu\n</code></pre> <p>\u63a5\u7740\uff0c\u8fdb\u5165\u524d\u7aef\u6587\u4ef6\u5939\u5e76\u8fdb\u884c\u6253\u5305\u64cd\u4f5c\uff1a</p> <pre><code>cd /home/ubuntu/front\nnpm run build\n</code></pre> <p>\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5c06\u5728 <code>front</code> \u76ee\u5f55\u4e0b\u751f\u6210 <code>dist</code> \u6587\u4ef6\u5939</p> <p>\u65b9\u5f0f\u4e8c\uff1a\u4ec5\u4e0a\u4f20\u6253\u5305\u540e\u7684 dist \u6587\u4ef6</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u66f4\u52a0\u7b80\u4fbf\uff0c\u53ea\u9700\u4e0a\u4f20\u7ecf\u8fc7\u6253\u5305\u7684 <code>dist</code> \u6587\u4ef6\u5939\u5373\u53ef\uff1a</p> <pre><code>scp -r dist ubuntu@124.220.110.93:/home/ubuntu\n</code></pre> <p>\u65e0\u8bba\u4f60\u9009\u62e9\u54ea\u79cd\u65b9\u5f0f\uff0c\u6700\u7ec8\u90fd\u4f1a\u5728\u670d\u52a1\u5668\u4e0a\u83b7\u5f97\u4e00\u4e2a\u5305\u542b <code>index.html</code> \u6587\u4ef6\u7684 <code>dist</code> \u6587\u4ef6\u5939\uff0c\u5b83\u5c06\u4f5c\u4e3a\u5e94\u7528\u7684\u5165\u53e3\u3002</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#nginx_1","title":"\u4fee\u6539 nginx \u914d\u7f6e","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u5bf9 Nginx \u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4ee5\u786e\u4fdd\u5e94\u7528\u80fd\u591f\u6b63\u786e\u8bbf\u95ee\u3002</p> <p>\u9996\u5148\uff0c\u4fee\u6539 Nginx \u7684\u7528\u6237\u6743\u9650\u3002\u8fdb\u5165 Nginx \u914d\u7f6e\u6587\u4ef6\u5939\u5e76\u7f16\u8f91 <code>nginx.conf</code> \u6587\u4ef6\uff1a</p> <pre><code>cd /etc/nginx\nvim nginx.conf\n</code></pre> <p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u627e\u5230 <code>user</code> \u90e8\u5206\uff0c\u5c06\u5176\u4fee\u6539\u4e3a\uff1a</p> <p></p> <pre><code>user ubuntu;  # \u4f7f\u7528 root \u4e5f\u53ef\u4ee5\nworker_processes auto;\npid /run/nginx.pid;\ninclude /etc/nginx/modules-enabled/*.conf;\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u8fdb\u5165 Nginx \u7684\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u5939\uff1a</p> <pre><code>cd /etc/nginx/sites-available\nvim default\n</code></pre> <p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5c06\u670d\u52a1\u5668\u7684\u6839\u76ee\u5f55\u4fee\u6539\u4e3a <code>dist</code> \u6587\u4ef6\u5939\u7684\u8def\u5f84\uff0c\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u7684 <code>index.html</code> \u4f5c\u4e3a\u5165\u53e3\uff1a</p> <p></p> <pre><code>server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n\n        root /home/ubuntu/dist;\n\n        index index.html;\n\n        server_name _;\n\n        location / {\n                # First attempt to serve request as file, then\n                # as directory, then fall back to displaying a 404.\n                try_files $uri $uri/ =404;\n        }\n}\n</code></pre> <p>\u5b8c\u6210\u4e0a\u8ff0\u4fee\u6539\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 Nginx \u914d\u7f6e\u6587\u4ef6\u662f\u5426\u5b58\u5728\u8bed\u6cd5\u9519\u8bef\uff1a</p> <pre><code>sudo nginx -t\n</code></pre> <p>\u5982\u679c\u8bed\u6cd5\u6b63\u786e\uff0c\u5c06\u4f1a\u663e\u793a \"syntax is okay\" \u548c \"test is successful\"</p> <p>\u6700\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\uff08\u8bf7\u6ce8\u610f\u4f7f\u7528 <code>restart</code> \u800c\u4e0d\u662f <code>reload</code>\uff09\uff1a</p> <pre><code>sudo systemctl restart nginx\n</code></pre> <p>\u73b0\u5728\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u670d\u52a1\u5668\u7684 IP \u5730\u5740\uff0c\u5373\u53ef\u67e5\u770b\u5230\u5e94\u7528\u7684\u5185\u5bb9\uff01</p> <p>\u5982\u679c\u9047\u5230\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b Nginx \u62a5\u9519\u65e5\u5fd7\uff1a</p> <pre><code>sudo tail -n 50 /var/log/nginx/error.log\n</code></pre>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_4","title":"\u540e\u7aef","text":"<p>\u540e\u7aef\u90e8\u7f72\u65f6\u9047\u5230\u7684\u56db\u4e2a\u5173\u952e\u95ee\u9898</p> <ul> <li> <p>\u8bbf\u95ee swagger \u662f\u5426\u5f00\u53d1\u6a21\u578b \uff08\u53d6\u6d88\uff09</p> </li> <li> <p>docker \u8fde\u63a5 oracle \u65f6\u533a\u95ee\u9898</p> </li> <li> <p>\u670d\u52a1\u5668\u5185\u53ef\u4ee5\u4f7f\u7528 localhost \u8bbf\u95ee\uff0c\u800c\u5916\u7f51\u901a\u8fc7 IP+\u7aef\u53e3 \u65e0\u6cd5\u8bbf\u95ee</p> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7 IP+\u7aef\u53e3\u8bbf\u95ee swageer\uff0c\u524d\u7aef\u63a5\u53e3\u4e5f\u6b63\u786e\uff0c\u4f46\u4ecd\u7136\u65e0\u6cd5\u8bbf\u95ee</p> </li> </ul> <p>\u4ee5\u4e0a\u56db\u4e2a\u95ee\u9898\u5c06\u5728\u4e0b\u9762\u9010\u4e00\u89e3\u51b3\uff01</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_5","title":"\u8de8\u57df\u95ee\u9898","text":"<p>\u5728\u524d\u540e\u7aef\u5206\u79bb\u7684\u5e94\u7528\u4e2d\uff0c\u7531\u4e8e\u524d\u7aef\u548c\u540e\u7aef\u901a\u5e38\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u57df\u540d\u6216\u7aef\u53e3\u4e0b\uff0c\u4f1a\u6d89\u53ca\u5230\u8de8\u57df\u8bbf\u95ee\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u89e3\u51b3\u8de8\u57df\u95ee\u9898\uff0c\u9700\u8981\u5728\u540e\u7aef\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4ee5\u5141\u8bb8\u6765\u81ea\u524d\u7aef\u57df\u7684\u8bf7\u6c42</p> <p>\u540e\u7aef\u914d\u7f6e\u7684\u597d\u5904\uff1a\u65b9\u4fbf</p> <p>\u9996\u5148\uff0c\u5b89\u88c5 <code>Microsoft.AspNet.WebApi.Cors</code> \u5305\uff1a</p> <pre><code>dotnet add package Microsoft.AspNet.WebApi.Cors\n</code></pre> <p>\u7136\u540e\uff0c\u6253\u5f00 <code>Program.cs</code> \u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\u6765\u914d\u7f6e\u8de8\u57df\u652f\u6301\uff1a</p> <pre><code>using Microsoft.AspNetCore.Builder;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\n\nbuilder.Services.AddCors(options =&gt;\n{\noptions.AddPolicy(\"AllowAllOrigins\", builder =&gt;\n{\nbuilder.AllowAnyOrigin() // \u5141\u8bb8\u6240\u6709\u6765\u6e90\n.AllowAnyHeader()\n.AllowAnyMethod();\n});\n});\n\napp.UseCors(\"AllowAllOrigins\"); // \u4f7f\u7528\u521a\u521a\u914d\u7f6e\u7684\u8de8\u57df\u7b56\u7565\n</code></pre> <p></p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_6","title":"\u5f00\u53d1\u6a21\u5f0f\u548c\u751f\u4ea7\u6a21\u5f0f","text":"<p>ASP.NET \u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u5f00\u53d1\u6846\u67b6\uff0c\u7528\u4e8e\u6784\u5efa Web \u5e94\u7528\u7a0b\u5e8f\u3001Web API \u548c\u5176\u4ed6\u7c7b\u578b\u7684\u5e94\u7528\u3002\u5728 ASP.NET \u4e2d\uff0c\u6709\u4e24\u79cd\u5e38\u89c1\u7684\u8fd0\u884c\u6a21\u5f0f\uff1a\u5f00\u53d1\u6a21\u5f0f\uff08Development Mode\uff09\u548c\u751f\u4ea7\u6a21\u5f0f\uff08Production Mode\uff09\uff0c\u5b83\u4eec\u5206\u522b\u7528\u4e8e\u5f00\u53d1\u9636\u6bb5\u548c\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u4e2d\u3002</p> <p>\u4e3a\u4e86\u5728\u751f\u4ea7\u6a21\u5f0f\u4e0b\u80fd\u591f\u8bbf\u95ee swagger\uff08\u8fd9\u610f\u5473\u7740\u901a\u8fc7 IP \u80fd\u591f\u8bbf\u95ee swagger\uff0c\u770b\u5230\u9879\u76ee\u6240\u6709 API\uff09\uff0c\u9700\u8981\u4fee\u6539 Program.cs \u6587\u4ef6\u91cc\u7684\u4e00\u5904\u4ee3\u7801</p> <p>\u539f\u5185\u5bb9\uff1a</p> <pre><code>// Configure the HTTP request pipeline.\nif (app.Environment.IsDevelopment())\n{\napp.UseSwagger();\napp.UseSwaggerUI();\n}\n</code></pre> <p>\u4fee\u6539\u4e3a\uff1a</p> <pre><code>// Configure the HTTP request pipeline.\napp.UseSwagger();\napp.UseSwaggerUI();\n</code></pre> <p>\u53c2\u8003\uff1ahttps://www.cnblogs.com/cxxtreasure/p/14332484.html</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#docker","title":"\u5b89\u88c5 Docker","text":"<p>\u66f4\u65b0\u7cfb\u7edf\u8f6f\u4ef6\u5305\u5217\u8868\uff1a</p> <pre><code>sudo apt update\n</code></pre> <p>\u5b89\u88c5\u6240\u9700\u7684\u8f6f\u4ef6\u5305\uff0c\u4ee5\u4fbf\u5141\u8bb8\u4f7f\u7528 HTTPS \u6765\u901a\u8fc7 APT \u4e0b\u8f7d\u8f6f\u4ef6\u5305\uff1a</p> <pre><code>sudo apt install apt-transport-https ca-certificates curl software-properties-common\n</code></pre> <p>\u6dfb\u52a0 Docker \u5b98\u65b9 GPG \u5bc6\u94a5\uff1a</p> <pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n</code></pre> <p>\u6dfb\u52a0 Docker \u7684\u7a33\u5b9a\u7248\u5b58\u50a8\u5e93\uff1a</p> <pre><code>echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n</code></pre> <p>\u5b89\u88c5 Docker Engine\uff1a</p> <pre><code>sudo apt install docker-ce docker-ce-cli containerd.io\n</code></pre> <p>\u542f\u52a8 Docker \u670d\u52a1\uff1a</p> <pre><code>sudo systemctl start docker\n</code></pre> <p>\u9a8c\u8bc1 Docker \u662f\u5426\u6b63\u786e\u5b89\u88c5\uff1a</p> <pre><code>docker --version\n</code></pre> <p>\u5982\u679c\u663e\u793a\u4e86 Docker \u7684\u7248\u672c\u4fe1\u606f\uff0c\u8bf4\u660e Docker \u5b89\u88c5\u6210\u529f\u3002</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_7","title":"\u5177\u4f53\u90e8\u7f72\u6d41\u7a0b","text":"<p>\u540e\u7aef\u6211\u662f\u4f7f\u7528 Docker \u6765\u8fdb\u884c\u90e8\u7f72\uff0c\u4e0b\u9762\u662f\u6b63\u5f0f\u7684\u90e8\u7f72\u6d41\u7a0b</p> <p>\u9996\u5148\u5728\u540e\u7aef\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a Dockerfile \u6587\u4ef6\uff0c\u5c06\u4ee5\u4e0b\u5185\u5bb9\u590d\u5236\u5230 Dockerfile \u6587\u4ef6\u4e2d\uff0c\u6839\u636e\u9879\u76ee\u60c5\u51b5\u4fee\u6539\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u5305\u62ec xxx.csproj\uff0c\u7528\u9879\u76ee\u4e2d\u5bf9\u5e94\u7684\u540d\u79f0\u6765\u66ff\u6362 xxx\uff0c\u5176\u4ed6\u5730\u65b9\u4e0d\u7528\u4fee\u6539</p> <pre><code>FROM mcr.microsoft.com/dotnet/aspnet:7.0 AS base\nWORKDIR /app\nEXPOSE 80\nEXPOSE 443\n\nFROM mcr.microsoft.com/dotnet/sdk:7.0 AS build\n\n\nWORKDIR /src\nCOPY [\"auth.csproj\", \".\"]\nRUN dotnet restore \"./auth.csproj\"\nCOPY . .\nWORKDIR \"/src/.\"\nRUN dotnet build \"auth.csproj\" -c Release -o /app/build\n\nFROM build AS publish\nRUN dotnet publish \"auth.csproj\" -c Release -o /app/publish /p:UseAppHost=false\n\nFROM base AS final\nWORKDIR /app\nCOPY --from=publish /app/publish .\nENTRYPOINT [\"dotnet\", \"auth.dll\"]\n\n# \u8bbe\u7f6e\u5bb9\u5668\u65f6\u533a\n# \u6551\u547d\u6069\u4eba\uff1ahttps://www.cnblogs.com/deali/p/15620364.html\nENV TZ=Asia/Shanghai\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone\n</code></pre> <p>FROM mcr.microsoft.com/dotnet/aspnet:7.0 AS base: \u8fd9\u4e2a\u8bed\u53e5\u4ece Microsoft \u7684\u5bb9\u5668\u6ce8\u518c\u8868\u4e2d\u62c9\u53d6\u4e00\u4e2a\u540d\u4e3a dotnet/aspnet \u7684\u955c\u50cf\u7248\u672c\u4e3a 7.0\uff0c\u4f5c\u4e3a\u57fa\u7840\u955c\u50cf\u3002\u8fd9\u4e2a\u57fa\u7840\u955c\u50cf\u9884\u88c5\u4e86 ASP.NET Core \u8fd0\u884c\u65f6\u73af\u5883\u3002</p> <p>WORKDIR /app: \u8fd9\u4e2a\u8bed\u53e5\u8bbe\u7f6e\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a /app\uff0c\u5728\u8be5\u76ee\u5f55\u4e0b\u8fdb\u884c\u540e\u7eed\u7684\u64cd\u4f5c\u3002</p> <p>EXPOSE 80 \u548c EXPOSE 443: \u8fd9\u4e24\u4e2a\u8bed\u53e5\u6307\u5b9a\u5bb9\u5668\u5c06\u4f1a\u76d1\u542c\u7684\u7f51\u7edc\u7aef\u53e3\uff0c\u5206\u522b\u662f 80 \u548c 443\u3002\u8fd9\u662f\u4e3a\u4e86\u5728\u5bb9\u5668\u5185\u8fd0\u884c ASP.NET Core \u5e94\u7528\u5e76\u66b4\u9732\u76f8\u5e94\u7684 HTTP \u548c HTTPS \u7aef\u53e3\u3002</p> <p>FROM mcr.microsoft.com/dotnet/sdk:7.0 AS build: \u8fd9\u4e2a\u8bed\u53e5\u4ece Microsoft \u7684\u5bb9\u5668\u6ce8\u518c\u8868\u4e2d\u62c9\u53d6\u4e00\u4e2a\u540d\u4e3a dotnet/sdk \u7684\u955c\u50cf\u7248\u672c\u4e3a 7.0\uff0c\u4f5c\u4e3a\u7528\u4e8e\u6784\u5efa\u5e94\u7528\u7684\u4e2d\u95f4\u955c\u50cf\u3002\u8fd9\u4e2a\u955c\u50cf\u9884\u88c5\u4e86 .NET Core SDK\uff0c\u7528\u4e8e\u7f16\u8bd1\u548c\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>WORKDIR /src: \u8fd9\u4e2a\u8bed\u53e5\u8bbe\u7f6e\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a /src\uff0c\u5728\u8be5\u76ee\u5f55\u4e0b\u8fdb\u884c\u540e\u7eed\u7684\u64cd\u4f5c\u3002</p> <p>COPY [\"auth.csproj\", \".\"]: \u8fd9\u4e2a\u8bed\u53e5\u5c06\u4e3b\u673a\u4e0a\u7684 auth.csproj \u6587\u4ef6\u590d\u5236\u5230\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>RUN dotnet restore \"./auth.csproj\": \u8fd9\u4e2a\u8bed\u53e5\u8fd0\u884c dotnet restore \u547d\u4ee4\uff0c\u4ee5\u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f\u7684\u4f9d\u8d56\u9879\u3002</p> <p>COPY . .: \u8fd9\u4e2a\u8bed\u53e5\u5c06\u4e3b\u673a\u4e0a\u7684\u6240\u6709\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u590d\u5236\u5230\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>WORKDIR \"/src/.\": \u8fd9\u4e2a\u8bed\u53e5\u91cd\u65b0\u8bbe\u7f6e\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a /src\u3002</p> <p>RUN dotnet build \"auth.csproj\" -c Release -o /app/build: \u8fd9\u4e2a\u8bed\u53e5\u8fd0\u884c dotnet build \u547d\u4ee4\uff0c\u4ee5\u5728 Release \u914d\u7f6e\u4e0b\u7f16\u8bd1\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u5c06\u8f93\u51fa\u653e\u7f6e\u5728 /app/build \u76ee\u5f55\u4e2d\u3002</p> <p>FROM build AS publish: \u8fd9\u4e2a\u8bed\u53e5\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a publish \u7684\u9636\u6bb5\uff0c\u4ece\u4e4b\u524d\u7684 build \u9636\u6bb5\u6784\u5efa\u800c\u6765\u3002</p> <p>RUN dotnet publish \"auth.csproj\" -c Release -o /app/publish /p:UseAppHost=false: \u5728 publish \u9636\u6bb5\u4e2d\uff0c\u8fd9\u4e2a\u8bed\u53e5\u8fd0\u884c dotnet publish \u547d\u4ee4\uff0c\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u53d1\u5e03\u5230 /app/publish \u76ee\u5f55\u4e2d\u3002/p:UseAppHost=false \u53c2\u6570\u7528\u4e8e\u7981\u7528\u5e94\u7528\u4e3b\u673a\u7684\u751f\u6210\u3002</p> <p>FROM base AS final: \u8fd9\u4e2a\u8bed\u53e5\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a final \u7684\u9636\u6bb5\uff0c\u4ece\u4e4b\u524d\u7684 base \u9636\u6bb5\u6784\u5efa\u800c\u6765\u3002</p> <p>WORKDIR /app: \u8fd9\u4e2a\u8bed\u53e5\u91cd\u65b0\u8bbe\u7f6e\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a /app\u3002</p> <p>COPY --from=publish /app/publish .: \u8fd9\u4e2a\u8bed\u53e5\u4ece\u4e4b\u524d\u7684 publish \u9636\u6bb5\u590d\u5236\u5df2\u53d1\u5e03\u7684\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5230\u5bb9\u5668\u5185\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>ENTRYPOINT [\"dotnet\", \"auth.dll\"]: \u8fd9\u4e2a\u8bed\u53e5\u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u65f6\u6267\u884c\u7684\u9ed8\u8ba4\u547d\u4ee4\uff0c\u5373\u8fd0\u884c auth.dll\uff0c\u8fd9\u662f ASP.NET Core \u5e94\u7528\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u3002</p> <p>ENV TZ=Asia/Shanghai \u548c RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone: \u8fd9\u4e24\u4e2a\u8bed\u53e5\u8bbe\u7f6e\u5bb9\u5668\u7684\u65f6\u533a\u4e3a\u4e9a\u6d32/\u4e0a\u6d77\uff0c\u5e76\u901a\u8fc7\u8f6f\u94fe\u63a5\u5c06\u5bb9\u5668\u7684\u65f6\u533a\u8bbe\u7f6e\u4e3a\u4e3b\u673a\u7684\u65f6\u533a\uff0c\u4ee5\u786e\u4fdd\u5bb9\u5668\u5185\u90e8\u65f6\u95f4\u4e0e\u4e3b\u673a\u65f6\u95f4\u4e00\u81f4\u3002</p> <p>\u8fd9\u4e2a Dockerfile \u5b9a\u4e49\u4e86\u4e00\u4e2a\u591a\u9636\u6bb5\u6784\u5efa\u8fc7\u7a0b\uff0c\u4ece\u57fa\u7840\u955c\u50cf\u5f00\u59cb\uff0c\u7ecf\u8fc7\u7f16\u8bd1\u548c\u53d1\u5e03\u9636\u6bb5\uff0c\u6700\u7ec8\u6784\u5efa\u51fa\u4e00\u4e2a\u8fd0\u884c ASP.NET Core \u5e94\u7528\u7684\u5bb9\u5668\uff0c\u5e76\u8bbe\u7f6e\u4e86\u5bb9\u5668\u7684\u65f6\u533a\u3002</p> <p>Dockerfile \u4e2d\u8bbe\u7f6e\u5bb9\u5668\u65f6\u533a\u547d\u4ee4\u662f\u4e3a\u4e86\u89e3\u51b3\u8bbf\u95ee oracle \u6570\u636e\u5e93\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff1a</p> <pre><code>ORA-01882:timezone region not found\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u5728\u540e\u7aef\u6587\u4ef6\u5939\u4e0b\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>dbp-image</code> \u7684\u955c\u50cf\uff0c\u7248\u672c\u53f7\u4e3a1.0\uff1a</p> <pre><code>docker build -t dbp-image:v1.0 -f Dockerfile .\n</code></pre> <p>\u6ce8\u610f\uff0cdocker \u955c\u50cf\u7684\u540d\u79f0\u53ea\u80fd\u5c0f\u5199</p> <p>\u5728\u7ec8\u7aef\u4e2d\uff0c\u5207\u6362\u5230\u540e\u7aef\u5e94\u7528\u6587\u4ef6\u5939\uff0c\u5e76\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u6784\u5efa\u4e00\u4e2a\u540d\u4e3a<code>dbp-image</code>\u7684Docker\u955c\u50cf\uff0c\u7248\u672c\u53f7\u4e3a1.0\uff1a</p> <pre><code>cd back\ndocker save dbp-image:v1.0 &gt; dbp-image.tar\n</code></pre> <p>\u5c06\u6784\u5efa\u597d\u7684Docker\u955c\u50cf\u4fdd\u5b58\u4e3a\u4e00\u4e2a <code>.tar</code> \u6587\u4ef6\uff0c\u4ee5\u5907\u540e\u7eed\u5728\u670d\u52a1\u5668\u4e0a\u52a0\u8f7d\u4f7f\u7528\uff1a</p> <pre><code>docker save dbp-image:v1.0 &gt; dbp-image.tar\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u5c06\u4f1a\u6839\u636e <code>Dockerfile</code> \u7684\u914d\u7f6e\uff0c\u4ece\u5934\u5f00\u59cb\u6784\u5efa\u4e00\u4e2a\u5305\u542b\u6211\u4eec\u5e94\u7528\u7a0b\u5e8f\u7684\u955c\u50cf</p> <p>\u4f7f\u7528 <code>scp</code> \u547d\u4ee4\u5c06\u4fdd\u5b58\u7684 Docker \u955c\u50cf\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u7684\u6307\u5b9a\u76ee\u5f55 <code>/home/ubuntu</code>\uff1a</p> <pre><code>scp -r dbp-image.tar ubuntu@124.220.110.93:/home/ubuntu\n</code></pre> <p>\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u52a0\u8f7d\u4e4b\u524d\u4fdd\u5b58\u7684Docker\u955c\u50cf\uff1a</p> <pre><code>cd /home/ubuntu\ndocker load &lt; dbp-image.tar\n</code></pre> <p>\u6700\u540e\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u6211\u4eec\u7684\u5e94\u7528Docker\u955c\u50cf\uff0c\u5e76\u5c06\u5bb9\u5668\u7684 <code>80</code> \u7aef\u53e3\u6620\u5c04\u5230\u4e3b\u673a\u7684 <code>5045</code> \u7aef\u53e3\uff1a</p> <pre><code>docker run -p 5045:80 dbp-image:v1.0\n</code></pre> <p>\u5982\u679c\u901a\u8fc7 <code>http://\u4f60\u7684IP\u5730\u5740:5045/swagger/index.html</code> \u65e0\u6cd5\u8bbf\u95ee\uff0c\u68c0\u67e5\u670d\u52a1\u5668\u7aef\u53e3\u662f\u5426\u5f00\u653e\uff1a</p> <p>\u4e91\u670d\u52a1\u5668\u4f9b\u5e94\u5546\u7aef\u53e3\u662f\u5426\u5f00\u653e\uff1a</p> <p>5045 \u7aef\u53e3</p> <p></p> <p>\u670d\u52a1\u5668\u5185\u90e8\u9632\u706b\u5899\u662f\u5426\u5173\u95ed\uff1a</p> <p></p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_8","title":"\u90e8\u7f72","text":"<p>\u524d\u7aef\u5730\u5740\uff1ahttp://124.220.110.93/</p> <p>\u540e\u7aef\u5730\u5740\uff1ahttp://124.220.110.93:5045/swagger/index.html</p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_9","title":"\u6570\u636e\u5e93","text":"<p>SQLDeveloper \u8fde\u63a5 oracle \u6570\u636e\u5e93</p> <p></p>"},{"location":"Web/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B/#_10","title":"\u8865\u5145\u77e5\u8bc6","text":"<p>\u9759\u6001\u670d\u52a1\uff1a\u4e3b\u8981\u63d0\u4f9b\u9759\u6001\u8d44\u6e90\uff0c\u4e0d\u540c\u7528\u6237\u8bbf\u95ee\u5230\u7684\u8d44\u6e90\u76f8\u540c</p> <p>\u52a8\u6001\u670d\u52a1\uff1a\u63d0\u4f9b\u52a8\u6001\u670d\u52a1\uff0c\u4e0d\u540c\u7528\u6237\u8bbf\u95ee\u5230\u7684\u8d44\u6e90\u4e0d\u540c</p> <p>\u670d\u52a1\u5668\u7684\u51e0\u4e2a\u53eb\u6cd5\uff1a</p> <pre><code>web\u670d\u52a1\u5668\uff1a\u5e7f\u4e49\u4e0a\u6765\u8bf4\uff0c\u5c31\u662f\u54cd\u5e94\u7528\u6237\u7684\u9700\u6c42\uff0c\u63d0\u4f9b\u670d\u52a1\uff0c\u5f53\u4e0b\u6240\u6709\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\u90fd\u53ef\u4ee5\u79f0\u4e4b\u4e3aweb\u670d\u52a1\u5668\u8f6f\u4ef6\n\nHTTP\u670d\u52a1\u5668(\u9759\u6001\u670d\u52a1)\uff1a\u4f7f\u7528HTTP\u534f\u8bae\u4f20\u8f93\u8d44\u6e90\uff0c\u63d0\u4f9b\u670d\u52a1\n\n\u5e94\u7528\u670d\u52a1\u5668(\u52a8\u6001\u670d\u52a1)\uff1a\u4e00\u4e2a\u7279\u5b9a\u5e94\u7528\u7684\u627f\u8f7d\u5bb9\u5668\n</code></pre> <p>\u5e38\u89c1\u7684\u8f7b\u91cf\u7ea7\u670d\u52a1\u5668\u8f6f\u4ef6\uff1a</p> <pre><code>1\u3001Nginx\uff1a\u5178\u578b\u7684\u9759\u6001\u670d\u52a1\u5668\uff0c\u53ef\u505a\u53cd\u5411\u4ee3\u7406\u3001\u8d1f\u8f7d\u5747\u8861\uff0c\u4e00\u822c\u653e\u5728\u6700\u524d\u9762\u76f4\u9762\u7528\u6237\uff0c\u548c\u540e\u7aefTomcat\u6253\u914d\u5408\uff1b\u7eafC\u5199\u7684\uff0c\u6027\u80fd\u8d3c\u9ad8\u3001\u5185\u5b58\u6d88\u8017\u6781\u5c11\u3001\u7a33\u5b9a\u6027\u4e5f\u76f8\u5f53\u597d\uff0c\u4e92\u8054\u7f51\u516c\u53f8\u91cd\u5ea6\u4f7f\u7528\n\n2\u3001Tengine\uff1a\u963f\u91cc\u51fa\u54c1\uff0c\u57fa\u4e8eNginx\u670d\u52a1\u5668\u505a\u7684\u6539\u9020(\u52a0\u5f3a\u548c\u5c01\u88c5)\uff0c\u5bf9\u5927\u6d41\u91cf\u573a\u666f\u505a\u4e86\u5f88\u591a\u9ad8\u7ea7\u529f\u80fd\uff0c\u6027\u80fd\u3001\u7a33\u5b9a\u6027\u4f18\u79c0\n\n3\u3001Apache http server\uff1a\u4e5f\u662f\u9759\u6001\u670d\u52a1\u5668\uff0c\u4f46\u662f\u4e0d\u5982Nginx\n\n3\u3001IIS\uff1a\u5fae\u8f6f\u5f00\u53d1\uff0c\u53ea\u80fd\u7528\u5728Windows\u4e0b\uff0c\u5177\u6709\u5e94\u7528\u670d\u52a1\u5668\u80fd\u529b\u7684http\u670d\u52a1\u5668\n\n4\u3001Tomcat\uff1aApache\u51fa\u54c1\uff0c\u5178\u578b\u7684\u5e94\u7528\u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u7b26\u5408Servlet\u6807\u51c6\u7684\u5e94\u7528\u5bb9\u5668\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4f9bhttp\u670d\u52a1\uff0c\u4f46\u4e00\u822c\u4e0d\u4f1a\u4f5c\u4e3ahttp\u670d\u52a1\u5668\uff1b\u662fSpring Boot\u6846\u67b6\u9ed8\u8ba4\u7684\u5185\u7f6e\u670d\u52a1\u5668\n\n5\u3001Jetty\uff1a\u8ddfTomcat\u662f\u4e00\u4e2a\u6027\u8d28\u7684\u4e1c\u897f\uff0c\u7b26\u5408Servlet\u6807\u51c6\u7684\u5e94\u7528\u5bb9\u5668\uff0c\u4e5f\u662fSpring Boot\u6846\u67b6\u652f\u6301\u7684\u670d\u52a1\u5668\uff0c\u4f46\u4e0d\u662f\u9ed8\u8ba4\u7684\n\n6\u3001Undertow\uff1a\u7ea2\u5e3d\u5b50\u51fa\u54c1\uff0c\u8ddfTomcat\u3001Jetty\u4e00\u6837\u4e5f\u662fSpring Boot\u6846\u67b6\u652f\u6301\u7684\u670d\u52a1\u5668\uff0c\u4f46\u4e0d\u662f\u9ed8\u8ba4\u7684\uff1b\u9ad8\u5e76\u53d1\u65f6\u6027\u80fd\u4f18\u4e8eTomcat\u3001Jetty\n</code></pre> <p>\u51e0\u6b3e\u5546\u7528\u91cd\u91cf\u7ea7\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\uff1a</p> <pre><code>1\u3001JBoss(\u4ece8\u7248\u5f00\u59cb\u66f4\u540d\u4e3aWildFly)\uff1a\u4e0d\u4ec5\u662fServlet\u5e94\u7528\u5bb9\u5668\uff0c\u66f4\u662fEJB\u7684\u5e94\u7528\u5bb9\u5668\uff0c\u6574\u5957JavaEE\u6846\u67b6\u90e8\u7f72\u7684\u89e3\u51b3\u65b9\u6848\n\n2\u3001WebLogic\uff1aOracle\u516c\u53f8\u51fa\u54c1\uff0c\u7528\u4e8e\u90e8\u7f72\u4f01\u4e1a\u7ea7JavaEE\u5e94\u7528\uff0c\u5168\u80fd\u578b\uff0c\u51e0\u4e4e\u652f\u6301JavaEE\u6240\u6709\u7684\u5e94\u7528\u89c4\u8303\n\n3\u3001WebSphere\uff1aIBM\u516c\u53f8\u51fa\u54c1\uff0c\u652f\u6301\u66f4\u591aJavaEE\u7684\u5e94\u7528\u89c4\u8303\u7684\u7efc\u5408\u5e94\u7528\u670d\u52a1\u5668\n</code></pre>"}]}